<style>
  input[type="date"]::-webkit-datetime-edit,
  input[type="date"]::-webkit-inner-spin-button,
  input[type="date"]::-webkit-clear-button {
    color: #fff;
    position: relative;
  }

  input[type="date"]::-webkit-datetime-edit-year-field {
    position: absolute !important;
    border-left: 1px solid #8c8c8c;
    padding: 2px;
    color: #000;
    left: 56px;
  }

  input[type="date"]::-webkit-datetime-edit-month-field {
    position: absolute !important;
    border-left: 1px solid #8c8c8c;
    padding: 2px;
    color: #000;
    left: 26px;
  }


  input[type="date"]::-webkit-datetime-edit-day-field {
    position: absolute !important;
    color: #000;
    padding: 2px;
    left: 4px;

  }

  td {

    font-size: small;
  }
</style>
<div class="container">
  <img src="/img/RT-Construct-Logo.png" class=" mx-auto  logo1 m-4 " alt="RT Construct">
  <ul class="nav nav-pills lg-mx-auto">
    <li class="nav-item">
      <!-- Button trigger modal -->
      <button type="button" class="btn btn-default" data-toggle="modal" data-target="#datosModal">
        Datos
      </button>
    </li>
    <li class="nav-item">
      <!-- Button trigger modal -->
      <button type="button" class="btn btn-default" data-toggle="modal" data-target="#staticBackdrop">
        Estado
      </button>
    </li>
    <li class="nav-item">
      <!-- Button trigger modal -->
      <button type="button" class="btn btn-default" data-toggle="modal" data-target="#ordenModal">
        Orden Trabajo
      </button>
    </li>
    <li class="nav-item">
      <!-- Button trigger modal 
      <button type="button" class="btn btn-default" data-toggle="modal" data-target="#subirModal">
        Subir Archivo
      </button>
      -->
    </li>
  </ul>

  <!-- CALENDARIO PARA PROBAR LA AGENDA DE ORDENES -->
  <div class="container">
    <div class="row">
      <div class="col mx-center">
        <h3 class="display-5 mx-center">Agenda Pendiente</h3>
        <table class="table table-striped table-hover border ">
          <thead class="thead-dark" style=" font-size:18px; ">
            <tr>
              <td>
                Cliente
              </td>
              <td>
                Fecha
              </td>
              <td>
                Hora
              </td>
              <td>
                Operario
              </td>
            </tr>
          </thead>
          <tbody>
            {{#each clientes }}

            {{#if cliente_pendiente}}

            <tr>
              <td>
                <p>{{cliente_pendiente}} </p>
              <td>
                <p> {{fecha_pendiente}} </p>
              </td>
              <td>
                <p>{{hora_pendiente}}</p>
              </td>
              <td>
                <p>{{operario_pendiente}}</p>
              </td>
            </tr>
            {{else}}
            {{/if}}
          </tbody>
          {{else}}
          <div class="card mx-auto">
            <div class="card-body">
              <p class="lead">No hay trabajos Pendientes</p>
            </div>
          </div>
          {{/each}}
        </table>
        </table>
      </div>
    </div>
  </div>


  <!-- Modal Datos -->
  <div class="modal fade" id="datosModal" tabindex="-1" aria-labelledby="datosModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <img src="/img/RT-Construct-Logo.png" class=" mx-auto  logo1 m-4 " alt="RT Construct">
          <h5 class="modal-title" id="datosModalLabel">Cliente</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <ul>
            <li><b> fecha:</b> {{cliente.fecha}} </li>
            <li><b> hora:</b> {{cliente.hora}} </li>
            <li><b> Ticket:</b> {{cliente.ticket}}</li>
            <li><b> Nombre:</b> {{cliente.name}} </li>
            <li><b> Direccion:</b> {{cliente.direccion}} </li>
            <li><b>Codigo postal:</b> {{cliente.zip}} </li>
            <li><b> Movil: </b>{{cliente.movil}}</li>
            <li><b> Movil 2:</b> {{cliente.movil1}}</li>
            <li><b>Tel Casa:</b> {{ cliente.movil2}}</li>
            <li><b>Correo electronico:</b> {{cliente.email}} </li>
            <li><b>Descripcion: </b>{{cliente.descripcion}} </li>
            <li><b>Cliente agregado por: </b>{{cliente.usuario}}</li>
            <li><b>Operario: </b>{{cliente.orden_trabajo.0.operario}}</li>
            <li><b>Fecha Atencion: </b>{{cliente.orden_trabajo.0.fecha}}</li>
            <li><b>Hora Atencion: </b>{{cliente.orden_trabajo.0.hora}}</li>
            <li><b>Orden hecha por : </b>{{cliente.orden_trabajo.0.usuario_trabajo}}</li>

          </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>

        </div>
      </div>
    </div>
  </div>

  <!-- modal Estado del Cliente -->
  <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <img src="/img/RT-Construct-Logo.png" class=" mx-auto  logo1 m-4 " alt="RT Construct">
          <h5 class="modal-title" id="staticBackdropLabel"> <b> Estado de la Solicitud </b></h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body md-10">

          <table class="table table-striped table-hover ">
            <thead class="thead-dark" style=" font-size:16px; ">
              <tr>
                <td>
                  Observacion
                </td>
                <td>
                  Estado
                </td>
                <td>
                  anexos
                </td>
                <td>
                  Fecha
                </td>
                <td>
                  Hora
                </td>
                <td>
                  transcriptor
                </td>
              </tr>
            </thead>
            <tbody>
              {{#each cliente.detalles }}
              <tr>
                <td>
                  <p>{{observacion}} </p>
                <td>
                  <p>{{estatus}}</p>
                </td>
                <td>
                  <a href="{{anexo}}">{{anexo}}</a>
                </td>
                <td>
                  <p>{{fecha}}</p>
                </td>
                <td>
                  <p>{{hora}}</p>
                </td>
                <td>
                  <p>{{usuario_detalles}} </p>
                </td>
              </tr>

            </tbody>
            {{else}}
            <div class="card mx-auto">
              <div class="card-body">
                <p class="lead">Aun no hay Historial</p>
              </div>
            </div>
            {{/each}}
          </table>
          <form action="/clientes/history/{{cliente.id}}? _method=PUT" method="POST">
            <input type="hidden" name="_method" value="PUT">



            <h3> Agregar Nueva Accion</h3>
            <div class="container">
              <div class="row">
                <div class="col">
                  <div class="form-group">
                    <textarea type="input" name="observacion" cols="50" rows="5"
                      placeholder="Agregar observacion"></textarea>
                  </div>
                  <div class="form-group">
                    <select type="input" type="text" name="estatus">
                      <option value="sin contactar" >Sin Contactar</option>
                      <option value="contactado" >Contactado</option>
                      <option value="visitado" >Visitado</option>
                      <option value="facturado" >Facturado</option>
                      <option value="pagado" >Pagado</option>
                      <option value="descartado">Descartado</option>
                    </select>

                  </div>

                  <div class="form-group">
                    <label for="anexo">Link para archivo</label>
                    <input type="text" name="anexo">
                  </div>
                  <div>
                    <input type="hidden" name="usuario_det" value=" {{user.name}} ">
                  </div>
                  <div>
                    <input type="submit" value="Guardar">
                  </div>
                </div>
              </div>
            </div>

          </form>


        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>

        </div>
      </div>
    </div>
  </div>



  <!-- Modal Orden de Trabajo-->

  <div class="modal fade" id="ordenModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <img src="/img/RT-Construct-Logo.png" class=" mx-auto  logo1 m-4 " alt="RT Construct">
          <h5 class="modal-title" id="staticBackdropLabel">Ver Archivo</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <form action="/clientes/orden/{{cliente.id}}? _method=PUT" method="POST">
            <input type="hidden" name="_method" value="PUT">

            <div class="form-group">
              <select type="input" type="text" name="operario">
                <option value="asignar">Asignar Operario</option>
                <option value="Zorin">Baciliev</option>
                <option value="Cordell">Gigi</option>
                
              </select>
            </div>

            <div>
              <input type="date" name="fecha_trabajo" placeholder="Fecha">

            </div>
            <div>
              <input type="datetime-local" name="hora_trabajo" placeholder=" Hora">

            </div>


            <div>
              <input type="hidden" name="usuario_trabajo" value=" {{user.name}} ">
            </div>
            <input type="submit" value="Aceptar" class="btn btn-primary">
          </form>


          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>

          </div>

        </div>
      </div>
    </div>
  </div>
</div>